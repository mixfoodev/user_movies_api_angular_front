<span (click)="hideSidebar()" class="dark-overlay"></span>
<div *ngIf="isMobile" class="action">
  <span (click)="handleLogout()" *ngIf="user !== undefined" class="logout"
    >Logout</span
  >
  <span
    *ngIf="user === undefined || user.admin"
    class="primary-action"
    (click)="openUserForm()"
    >{{ user?.admin ? "Add user" : "Login" }}</span
  >
</div>
<h3>Favorites</h3>
<hr />
<div class="favorites">
  <ul>
    <li
      (click)="handleMovieClick(movie)"
      *ngFor="let movie of user?.movies || []"
      class="{{ (fetchingMovieId$ | async) === movie.id ? 'fa-fade' : '' }}"
    >
      <div class="movie-item">
        <div class="item-poster">
          <img src="{{ movie.poster }}" alt="{{ movie.title }}" />
        </div>
        <div class="item-content">
          <span class="item-title">{{ movie.title }}</span
          ><span class="item-year">{{ movie.year }}</span>
        </div>
      </div>
    </li>
  </ul>
</div>
